# 牛客高级教程
 
     
## 课程0-1

  - 课程内容
  
   | 开发工具|Java语言简洁|
   |  :--------  |  :--------  | 
   |Git|语法|
   |java|控制流|
   |IntellJ IDEA|数据结构|
   | |面向对象|
   | |异常|
   | | 随机数|
   
   - 版本控制
   ```
    1 记录开发过程
    2 团队（专注自己的开发）
   ```
   
   |SVN|Git|
   |  :--------  |  :--------  | 
   |中心式版本控制|分布式版本控制系统|

    
  - IntellJ IDEA 工具利用
  
   | 关联代码管理库 | 提交到本地库 | 提交到远程服务器| 
    |  :--------  |  :--------  |:--------  |
    | vcs、Enable Version Control Integration...选git | 项目、右键、Git、commit  | Git、Repository、push |
 
    
## 课程0-2

- 课程内容

   | 课程内容|
   |  :--------  | 
   |springboot 工程|
   |参数解析|
   |HTTP Method|
   | Velocity模板引擎|
   | Request,Response,session|
   | Error，重定向|
   | Logger|
   | Ioc,Aop|
   
 - springboot工程
   
   ``` 
   1 https://start.spring.io 生成工具包
   
   2 导入的启动器
     - web (tomcat springmvc)
     - velocity
     - Aop
     - DevTools 开发工具
   <dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-aop</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-devtools</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-velocity</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<dependency>
			<groupId>org.mybatis.spring.boot</groupId>
			<artifactId>mybatis-spring-boot-starter</artifactId>
			<version>1.1.1</version>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>
	
   ```
   
  - 参数解析(@PathVariable,@RequestParam)
   
   ```
       @PathVariable("userId") int userId;解析到了变量中去
       @RequestMapping(path = {"/profile/{groupId}/{userId}"})
       @ResponseBody
       public String profile(@PathVariable("userId") int userId,
                             @PathVariable("groupId") String groupId,
                             @RequestParam(value = "type", defaultValue = "1") int type,
                             @RequestParam(value = "key", required = false) String key) {
           return String.format("Profile Page of %s / %d, t:%d k: %s", groupId, userId, type, key);
       }
   
   
   ```
  
 - HTTP Method

    |HTTP Method|解析|
    |  :--------  |  :--------  | 
    |GET|获取接口信息|
    |HEAD|紧急查看接口HTTP的头|
    |POST|提交数据到服务器|
    |PUT|支持幂等性（异常，再请求也一样）的POST|
    |DELETE|删除服务器上的资源|
    |OPTIONS|查看支持的方法|
   
- Velocity模板引擎

```
  @RequestMapping(path = {"/vm"}, method = {RequestMethod.GET})
    public String template(Model model) {
        model.addAttribute("value1", "vvvvv1");
        List<String> colors = Arrays.asList(new String[]{"RED", "GREEN", "BLUE"});
        model.addAttribute("colors", colors);

        Map<String, String> map = new HashMap<>();
        for (int i = 0; i < 4; ++i) {
            map.put(String.valueOf(i), String.valueOf(i * i));
        }
        model.addAttribute("map", map);
        model.addAttribute("user", new User("LEE"));
        return "home";
    }


    #*
    你看不到我~~~~
    *#
    $!{value1}
    $!{value2} ## 如果不存在，强制为空
    ${value3}

    colors: $!{colors}

    #foreach($color in $colors)
        This is Color $!{foreach.index}: $color, $!{foreach.count}
    #end

    #foreach($key in $map.keySet())
        Number: $key, Value: $map.get($key)
    #end

    #foreach($kv in $map.entrySet())
        Number: $kv.key, Value: $kv.value
    #end

    User:  $!{user.name}
    $!{user.description}
    $!{user.getDescription()}


```  
- Request,Response,session(参考J2EE章节

```

    @RequestMapping(path = {"/request"}, method = {RequestMethod.GET})
    @ResponseBody
    public String request(Model model, HttpServletResponse response,
                           HttpServletRequest request,
                           HttpSession httpSession,
                          @CookieValue("JSESSIONID") String sessionId) {
        StringBuilder sb = new StringBuilder();
        sb.append("COOKIEVALUE:" + sessionId);
        Enumeration<String> headerNames = request.getHeaderNames();
        while (headerNames.hasMoreElements()) {
            String name = headerNames.nextElement();
            sb.append(name + ":" + request.getHeader(name) + "<br>");
        }
        if (request.getCookies() != null) {
            for (Cookie cookie : request.getCookies()) {
                sb.append("Cookie:" + cookie.getName() + " value:" + cookie.getValue());
            }
        }
        sb.append(request.getMethod() + "<br>");
        sb.append(request.getQueryString() + "<br>");
        sb.append(request.getPathInfo() + "<br>");
        sb.append(request.getRequestURI() + "<br>");

        response.addHeader("nowcoderId", "hello");
        response.addCookie(new Cookie("username", "nowcoder"));

        return sb.toString();
    }



```

- Error，重定向

 |301 |302|
 |  :--------  |  :--------  | 
 |永久重定向：表示请求的资源被分配了新的uri，以后使用资源现在所指的uri |临时重定向:表示请求的资源被分配了新的uri，希望用户（本次）能使用新的uri|
 
 ```
 
    @RequestMapping(path = {"/redirect/{code}"}, method = {RequestMethod.GET})
     public RedirectView redirect(@PathVariable("code") int code,
                                  HttpSession httpSession) {
         httpSession.setAttribute("msg", "jump from redirect");
         RedirectView red = new RedirectView("/", true);
         if (code == 301) {
             red.setStatusCode(HttpStatus.MOVED_PERMANENTLY);
         }
         return  red;
     }
 
 
 
 ```
 
 - Ioc,Aop
 
 |Ioc |Aop|
 |  :--------  |  :--------  | 
 |依赖注入，控制反转，无需关注对象的初始化，只需要注解注入即可|面向切面编程，所有业务都要处理的业务|

```
@Aspect
@Component
public class LogAspect {
    private static final Logger logger = LoggerFactory.getLogger(LogAspect.class);

    @Before("execution(* com.nowcoder.controller.*Controller.*(..))")
    public void beforeMethod(JoinPoint joinPoint) {
        StringBuilder sb = new StringBuilder();
        for (Object arg : joinPoint.getArgs()) {
            sb.append("arg:" + arg.toString() + "|");
        }
        logger.info("before method:" + sb.toString());
    }

    @After("execution(* com.nowcoder.controller.IndexController.*(..))")
    public void afterMethod() {
        logger.info("after method" + new Date());
    }
}


```